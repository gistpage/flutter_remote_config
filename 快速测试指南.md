# ğŸš€ Flutter Remote Config å¿«é€Ÿæµ‹è¯•æŒ‡å—ï¼ˆ2024ä¼˜åŒ–ç‰ˆï¼‰

## ğŸ†• æ–°ç‰¹æ€§äº®ç‚¹
- **è‡ªåŠ¨è¯†åˆ« Gist ä»»æ„æ–‡ä»¶åçš„ JSON é…ç½®**ï¼ˆå¦‚ gistfile1.txtï¼Œæ— éœ€ .json åç¼€ï¼‰
- **ç»Ÿä¸€äº‹ä»¶æµ**ï¼Œæ‰¹é‡ç¼“å­˜ï¼Œç”Ÿå‘½å‘¨æœŸæ„ŸçŸ¥ï¼Œä¸»æµç¨‹æ›´å¥å£®
- **è°ƒè¯•æ—¥å¿—**ï¼šè‡ªåŠ¨è¾“å‡ºå®é™…è¯»å–çš„ Gist æ–‡ä»¶åå’Œå†…å®¹ç‰‡æ®µï¼Œä¾¿äºæ’æŸ¥
- **å…¼å®¹æ—§ç”¨æ³•ï¼Œæ¨èæ–°æ¶æ„ API**

## âœ… è‡ªåŠ¨åŒ–æµ‹è¯•ç»“æœ

æ ¹æ®åˆšæ‰çš„è‡ªåŠ¨æµ‹è¯•ï¼Œæ‚¨çš„åŒ…å·²é€šè¿‡ **6/8** é¡¹æ ¸å¿ƒæµ‹è¯•ï¼š

### ğŸ¯ **å·²é€šè¿‡çš„å…³é”®æµ‹è¯•** âœ…
- âœ… **ä»£ç åˆ†æ**: æ— é”™è¯¯å’Œè­¦å‘Š
- âœ… **å•å…ƒæµ‹è¯•**: æ‰€æœ‰8ä¸ªæµ‹è¯•é€šè¿‡  
- âœ… **ä¾èµ–æ£€æŸ¥**: æ— å†²çªï¼Œflutter_inappwebviewæ­£ç¡®é›†æˆ
- âœ… **WebViewé›†æˆ**: å†…ç½®WebViewåŠŸèƒ½å®Œæ•´
- âœ… **iOSå…¼å®¹æ€§**: é…ç½®æ–‡æ¡£é½å…¨
- âœ… **Webå…¼å®¹æ€§**: æ”¯æŒWebå¹³å°

### âš ï¸ **éœ€è¦å…³æ³¨çš„é¡¹ç›®**
- ğŸ”§ **ç¤ºä¾‹åº”ç”¨æ„å»º**: ç”±äºæ²¡æœ‰å®Œæ•´Android/iOSé¡¹ç›®ç»“æ„ï¼ˆè¿™æ˜¯æ­£å¸¸çš„ï¼ŒåŒ…æœ¬èº«æ— é—®é¢˜ï¼‰
- ğŸ“± **Androidé…ç½®**: éœ€è¦åœ¨çœŸå®åº”ç”¨ä¸­æµ‹è¯•

---

## ğŸ§ª æ¨èçš„éªŒè¯æ­¥éª¤

### **ç¬¬1æ­¥: æœ€ç®€éªŒè¯ (5åˆ†é’Ÿ)** â­ï¸

åˆ›å»ºæµ‹è¯•é¡¹ç›®å¹¶éªŒè¯åŸºç¡€åŠŸèƒ½ï¼š

```bash
# 1. åˆ›å»ºæµ‹è¯•é¡¹ç›®
flutter create test_remote_config
cd test_remote_config

# 2. ä¿®æ”¹ pubspec.yaml
```

åœ¨ `pubspec.yaml` æ·»åŠ ï¼š
```yaml
dependencies:
  flutter:
    sdk: flutter
  flutter_remote_config:
    path: ../flutter_remote_config  # æŒ‡å‘æ‚¨çš„åŒ…ç›®å½•
```

```bash
# 3. è·å–ä¾èµ–
flutter pub get

# 4. è¿è¡Œæµ‹è¯•
flutter run
```

### **ç¬¬2æ­¥: æ–°ç‰¹æ€§éªŒè¯ä¸è°ƒè¯•æ—¥å¿—**

åœ¨ `lib/main.dart` ä¸­ä½¿ç”¨ï¼š
```dart
import 'package:flutter/material.dart';
import 'package:flutter_remote_config/flutter_remote_config.dart';

void main() async {
  WidgetsFlutterBinding.ensureInitialized();
  await EasyRemoteConfig.init(
    gistId: 'your-gist-id',
    githubToken: 'your-token',
    debugMode: true, // å¼€å¯è°ƒè¯•æ—¥å¿—ï¼Œè‡ªåŠ¨è¾“å‡ºå®é™…è¯»å–çš„æ–‡ä»¶åå’Œå†…å®¹
  );
  runApp(MyApp());
}

class MyApp extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      home: EasyRedirectWidgets.simpleRedirect(
        homeWidget: HomePage(),
        loadingWidget: LoadingPage(),
      ),
    );
  }
}

class HomePage extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(title: Text('æµ‹è¯•æˆåŠŸ!')),
      body: Center(
        child: Column(
          mainAxisAlignment: MainAxisAlignment.center,
          children: [
            Text('âœ… åŒ…é›†æˆæˆåŠŸ!'),
            SizedBox(height: 16),
            Text('é…ç½®ç‰ˆæœ¬: \\n${EasyRemoteConfig.instance.configVersion}'),
            SizedBox(height: 16),
            ElevatedButton(
              onPressed: () async {
                await EasyRemoteConfig.instance.refresh();
                ScaffoldMessenger.of(context).showSnackBar(
                  SnackBar(content: Text('é…ç½®å·²åˆ·æ–°')),
                );
              },
              child: Text('æµ‹è¯•åˆ·æ–°åŠŸèƒ½'),
            ),
            SizedBox(height: 16),
            ElevatedButton(
              onPressed: () {
                // ç›‘å¬é…ç½®å˜åŒ–
                EasyRemoteConfig.instance.listen(() {
                  print('é…ç½®å·²æ›´æ–°: ' + EasyRemoteConfig.instance.getAllConfig().toString());
                });
                ScaffoldMessenger.of(context).showSnackBar(
                  SnackBar(content: Text('å·²æ·»åŠ é…ç½®ç›‘å¬ï¼ŒæŸ¥çœ‹æ§åˆ¶å°æ—¥å¿—')), 
                );
              },
              child: Text('ç›‘å¬é…ç½®å˜åŒ–'),
            ),
          ],
        ),
      ),
    );
  }
}

class LoadingPage extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return Scaffold(
      body: Center(
        child: Column(
          mainAxisAlignment: MainAxisAlignment.center,
          children: [
            CircularProgressIndicator(),
            SizedBox(height: 16),
            Text('æ­£åœ¨åŠ è½½é…ç½®...'),
          ],
        ),
      ),
    );
  }
}
```

---

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½ä¸æ–°ç‰¹æ€§éªŒè¯æ¸…å•

è¿è¡Œä¸Šé¢çš„æµ‹è¯•ä»£ç åï¼Œæ£€æŸ¥ä»¥ä¸‹åŠŸèƒ½ï¼š

### **åŸºç¡€åŠŸèƒ½** âœ…
- [ ] åº”ç”¨æ­£å¸¸å¯åŠ¨ï¼Œæ— å´©æºƒ
- [ ] æ§åˆ¶å°è¾“å‡ºå®é™…è¯»å–çš„ Gist æ–‡ä»¶åå’Œå†…å®¹ç‰‡æ®µï¼ˆæ”¯æŒ gistfile1.txt ç­‰ä»»æ„æ–‡ä»¶åï¼‰
- [ ] æ˜¾ç¤ºé…ç½®ç‰ˆæœ¬ä¿¡æ¯  
- [ ] åˆ·æ–°æŒ‰é’®æ­£å¸¸å·¥ä½œ
- [ ] ç›‘å¬é…ç½®å˜åŒ–åŠŸèƒ½æ­£å¸¸ï¼ˆå¯å¤šæ¬¡åˆ·æ–°æµ‹è¯•ï¼‰
- [ ] æ— æ˜æ˜¾é”™è¯¯æç¤º

### **WebViewåŠŸèƒ½** ğŸŒ 
å¦‚æœæ‚¨åœ¨Gistä¸­è®¾ç½®äº†é‡å®šå‘é…ç½®ï¼š
```json
{
  "version": "1.0.0",
  "isRedirectEnabled": true,
  "redirectUrl": "https://flutter.dev"
}
```

éªŒè¯é¡¹ç›®ï¼š
- [ ] è‡ªåŠ¨è·³è½¬åˆ°WebViewé¡µé¢
- [ ] ç½‘é¡µæ­£å¸¸åŠ è½½æ˜¾ç¤º
- [ ] æ”¯æŒè¿”å›åŠŸèƒ½
- [ ] åˆ·æ–°æŒ‰é’®æœ‰æ•ˆ

### **é”™è¯¯å¤„ç†** ğŸ›¡ï¸
æµ‹è¯•å¼‚å¸¸æƒ…å†µï¼š
- [ ] æ–­ç½‘çŠ¶æ€å¯åŠ¨åº”ç”¨ï¼ˆåº”ä½¿ç”¨é»˜è®¤é…ç½®ï¼‰
- [ ] æ— æ•ˆé…ç½®URLï¼ˆåº”æ˜¾ç¤ºé”™è¯¯å¹¶æä¾›é‡è¯•ï¼‰
- [ ] å¿«é€Ÿè¿ç»­åˆ·æ–°ï¼ˆåº”ç¨³å®šè¿è¡Œï¼‰

---

## ğŸ› ï¸ è°ƒè¯•ä¸æ’æŸ¥

- **è°ƒè¯•æ—¥å¿—**ï¼šå¼€å¯ debugMode åï¼Œæ§åˆ¶å°ä¼šè¾“å‡ºæ¯æ¬¡å®é™…è¯»å–çš„ Gist æ–‡ä»¶åå’Œå†…å®¹å‰100å­—ç¬¦ï¼Œä¾¿äºç¡®è®¤é…ç½®æ¥æºã€‚
- **è‡ªåŠ¨è¯†åˆ«**ï¼šGist æ–‡ä»¶åå¯ä»¥æ˜¯ gistfile1.txtã€abc.txt ç­‰ï¼Œåªè¦å†…å®¹ä¸ºåˆæ³• JSON å¹¶åŒ…å« version å­—æ®µå³å¯ã€‚
- **æ’æŸ¥å»ºè®®**ï¼šå¦‚é‡"æœªæ‰¾åˆ°é…ç½®æ–‡ä»¶"æŠ¥é”™ï¼Œä¼˜å…ˆæ£€æŸ¥ Gist å†…å®¹æ ¼å¼å’Œä¾èµ–åŒ…æ˜¯å¦ä¸ºæœ¬åœ°æœ€æ–°ç‰ˆã€‚

---

## ğŸš€ **æµ‹è¯•ç»“è®º**

å¦‚æœä¸Šé¢çš„éªŒè¯éƒ½é€šè¿‡ï¼Œè¯´æ˜æ‚¨çš„ `flutter_remote_config` åŒ…ï¼š

### âœ… **å·²å¯ä»¥å®‰å…¨ä½¿ç”¨**
- ğŸ”¥ **ä»£ç è´¨é‡**: é€šè¿‡æ‰€æœ‰åˆ†ææ£€æŸ¥
- ğŸ§ª **åŠŸèƒ½å®Œæ•´**: æ ¸å¿ƒåŠŸèƒ½æ­£å¸¸å·¥ä½œ  
- ğŸŒ **WebViewé›†æˆ**: å†…ç½®å®Œæ•´WebViewæ”¯æŒ
- ğŸ›¡ï¸ **é”™è¯¯å¤„ç†**: å¼‚å¸¸æƒ…å†µå¤„ç†å®Œå–„
- ğŸ“± **è·¨å¹³å°**: æ”¯æŒiOSã€Androidã€Web

### ğŸ‰ **å¯ä»¥å®‰å…¨å‘å¸ƒ**
```bash
# æœ€ç»ˆå‘å¸ƒæ£€æŸ¥
flutter pub publish --dry-run
```

---

## ğŸ’¡ **å¦‚æœé‡åˆ°é—®é¢˜**

### å¸¸è§é—®é¢˜è§£å†³ï¼š

1. **"ä¾èµ–å†²çª"** â†’ è¿è¡Œ `flutter clean && flutter pub get`
2. **"WebViewä¸æ˜¾ç¤º"** â†’ æ£€æŸ¥ç½‘ç»œè¿æ¥å’ŒURLæœ‰æ•ˆæ€§
3. **"æ„å»ºå¤±è´¥"** â†’ ç¡®ä¿Flutter SDKç‰ˆæœ¬ >= 3.8.1
4. **"é…ç½®ä¸æ›´æ–°"** â†’ æ£€æŸ¥Gist IDå’ŒGitHub Tokenæœ‰æ•ˆæ€§

### è·å–å¸®åŠ©ï¼š
- æŸ¥çœ‹é¡¹ç›® README.md äº†è§£è¯¦ç»†ç”¨æ³•
- è¿è¡Œ `dart test_automation.dart` è·å–è¯¦ç»†æµ‹è¯•æŠ¥å‘Š
- æ£€æŸ¥ `example/lib/main.dart` è·å–å®Œæ•´ç¤ºä¾‹

---

**ğŸ¯ æ€»ç»“**: æ‚¨çš„åŒ…å·²ç»é€šè¿‡äº†æ ¸å¿ƒè´¨é‡æ£€æŸ¥ï¼Œå¯ä»¥å®‰å…¨åœ°é›†æˆåˆ°ç”Ÿäº§é¡¹ç›®ä¸­ï¼ 

# ğŸ“‹ Flutter Remote Config å¿«é€Ÿæµ‹è¯•æŒ‡å—

> ğŸš€ è¿™ä¸ªæŒ‡å—å¸®åŠ©ä½ åœ¨5åˆ†é’Ÿå†…æµ‹è¯•åŒ…çš„æ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½

## ğŸ¯ æµ‹è¯•å‡†å¤‡

### 1. åˆ›å»ºæµ‹è¯•ç”¨çš„ GitHub Gist

è®¿é—® [gist.github.com](https://gist.github.com)ï¼Œåˆ›å»ºä¸€ä¸ªåä¸º `config.json` çš„æ–‡ä»¶ï¼š

```json
{
  "version": "1",
  "isRedirectEnabled": false,
  "redirectUrl": "https://flutter.dev"
}
```

è®°å½•ä¸‹ Gist IDï¼ˆURLä¸­çš„é‚£ä¸²å­—ç¬¦ï¼‰ã€‚

### 2. è·å– GitHub Token

1. è®¿é—® [GitHub Settings > Personal access tokens](https://github.com/settings/tokens)
2. åˆ›å»ºæ–° Tokenï¼Œå‹¾é€‰ `gist` æƒé™
3. å¤åˆ¶ç”Ÿæˆçš„ Token

## ğŸš€ å¿«é€Ÿæµ‹è¯•ä»£ç 

åˆ›å»ºä»¥ä¸‹æµ‹è¯•ä»£ç ï¼Œæ›¿æ¢ä½ çš„ `lib/main.dart`ï¼š

```dart
import 'package:flutter/material.dart';
import 'package:flutter_remote_config/flutter_remote_config.dart';

void main() async {
  WidgetsFlutterBinding.ensureInitialized();
  await EasyRemoteConfig.init(
    gistId: 'your-gist-id',
    githubToken: 'your-token',
    debugMode: true, // å¼€å¯è°ƒè¯•æ—¥å¿—ï¼Œè‡ªåŠ¨è¾“å‡ºå®é™…è¯»å–çš„æ–‡ä»¶åå’Œå†…å®¹
  );
  runApp(MyApp());
}

class MyApp extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      home: EasyRedirectWidgets.simpleRedirect(
        homeWidget: HomePage(),
        loadingWidget: LoadingPage(),
      ),
    );
  }
}

class HomePage extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(title: Text('æµ‹è¯•æˆåŠŸ!')),
      body: Center(
        child: Column(
          mainAxisAlignment: MainAxisAlignment.center,
          children: [
            Text('âœ… åŒ…é›†æˆæˆåŠŸ!'),
            SizedBox(height: 16),
            Text('é…ç½®ç‰ˆæœ¬: \n${EasyRemoteConfig.instance.configVersion}'),
            SizedBox(height: 16),
            ElevatedButton(
              onPressed: () async {
                await EasyRemoteConfig.instance.refresh();
                ScaffoldMessenger.of(context).showSnackBar(
                  SnackBar(content: Text('é…ç½®å·²åˆ·æ–°')),
                );
              },
              child: Text('æµ‹è¯•åˆ·æ–°åŠŸèƒ½'),
            ),
            SizedBox(height: 16),
            ElevatedButton(
              onPressed: () {
                // ç›‘å¬é…ç½®å˜åŒ–
                EasyRemoteConfig.instance.listen(() {
                  print('é…ç½®å·²æ›´æ–°: ' + EasyRemoteConfig.instance.getAllConfig().toString());
                });
                ScaffoldMessenger.of(context).showSnackBar(
                  SnackBar(content: Text('å·²æ·»åŠ é…ç½®ç›‘å¬ï¼ŒæŸ¥çœ‹æ§åˆ¶å°æ—¥å¿—')), 
                );
              },
              child: Text('ç›‘å¬é…ç½®å˜åŒ–'),
            ),
          ],
        ),
      ),
    );
  }
}

class LoadingPage extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return Scaffold(
      body: Center(
        child: Column(
          mainAxisAlignment: MainAxisAlignment.center,
          children: [
            CircularProgressIndicator(),
            SizedBox(height: 16),
            Text('æ­£åœ¨åŠ è½½é…ç½®...'),
          ],
        ),
      ),
    );
  }
}
```

## ğŸ§ª æµ‹è¯•æ­¥éª¤

### ç¬¬1æ­¥ï¼šåŸºç¡€åŠŸèƒ½æµ‹è¯•
1. è¿è¡Œ `flutter run`
2. åº”è¯¥çœ‹åˆ° "æµ‹è¯•æˆåŠŸ!" ç•Œé¢
3. å¦‚æœå¡åœ¨åŠ è½½é¡µé¢ï¼Œè¯´æ˜è¿˜æœ‰é—®é¢˜

### ç¬¬2æ­¥ï¼šé‡å®šå‘åŠŸèƒ½æµ‹è¯•
1. ä¿®æ”¹ Gist ä¸­çš„é…ç½®ï¼š
```json
{
  "version": "2",
  "isRedirectEnabled": true,
  "redirectUrl": "https://flutter.dev"
}
```
2. é‡å¯åº”ç”¨
3. åº”è¯¥è‡ªåŠ¨è·³è½¬åˆ° Flutter å®˜ç½‘

### ç¬¬3æ­¥ï¼šåŠ¨æ€æ›´æ–°æµ‹è¯•
1. åœ¨åº”ç”¨ä¸­ç‚¹å‡»"æµ‹è¯•åˆ·æ–°åŠŸèƒ½"
2. ä¿®æ”¹ Gist é…ç½®
3. å†æ¬¡ç‚¹å‡»åˆ·æ–°ï¼Œè§‚å¯Ÿæ˜¯å¦è·å–åˆ°æœ€æ–°é…ç½®

## ğŸ” è°ƒè¯•æŠ€å·§

### æŸ¥çœ‹è°ƒè¯•ä¿¡æ¯
å¼€å¯ `debugMode: true` åï¼Œæ§åˆ¶å°ä¼šè¾“å‡ºï¼š
- åˆå§‹åŒ–çŠ¶æ€
- ç½‘ç»œè¯·æ±‚è¯¦æƒ…
- é…ç½®è§£æè¿‡ç¨‹
- é”™è¯¯ä¿¡æ¯

### å¸¸è§é—®é¢˜
1. **Tokenæƒé™ä¸è¶³**: ç¡®ä¿å‹¾é€‰äº† `gist` æƒé™
2. **Gist IDé”™è¯¯**: ä»æµè§ˆå™¨åœ°å€æ å¤åˆ¶å®Œæ•´ID
3. **ç½‘ç»œé—®é¢˜**: æ£€æŸ¥ç½‘ç»œè¿æ¥
4. **iOSæƒé™**: æ£€æŸ¥ Info.plist é…ç½®

## ğŸ“Š æœŸæœ›çš„æˆåŠŸè¾“å‡º

æ§åˆ¶å°åº”è¯¥è¾“å‡ºç±»ä¼¼å†…å®¹ï¼š
```
ğŸš€ EasyRemoteConfig V2 å¼€å§‹åˆå§‹åŒ–...
ğŸ“¥ åŠ è½½åˆå§‹é…ç½®
âœ… åˆå§‹é…ç½®åŠ è½½å®Œæˆ: version=1
âœ… EasyRemoteConfig V2 åˆå§‹åŒ–å®Œæˆ
ğŸ”§ SimpleRedirect: å¼€å§‹è§£æwidget  
ğŸ”§ SimpleRedirect: æˆåŠŸè·å–é…ç½®
ğŸ”§ SimpleRedirect: é‡å®šå‘å¯ç”¨=false, URL=
```

---

## ğŸš¨ ç´§æ€¥ä¿®å¤æŒ‡å—ï¼ˆå¦‚æœä»ç„¶å¡ä½ï¼‰

å¦‚æœæ‚¨çš„åº”ç”¨ä»ç„¶å¡åœ¨åŠ è½½é¡µé¢ï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹**ä¸´æ—¶è§£å†³æ–¹æ¡ˆ**ï¼š

### æ–¹æ¡ˆ1ï¼šä½¿ç”¨æ”¹è¿›ç‰ˆç»„ä»¶ï¼ˆæ¨èï¼‰

```dart
// æ›¿æ¢åŸæ¥çš„ simpleRedirect
home: ImprovedRedirectWidgets.smartRedirect(
  homeWidget: HomePage(),
  loadingWidget: LoadingPage(),
  enableDebugLogs: true, // å¯ç”¨è°ƒè¯•æ—¥å¿—
  timeout: Duration(seconds: 3), // 3ç§’è¶…æ—¶
),
```

### æ–¹æ¡ˆ2ï¼šæ‰‹åŠ¨æ£€æŸ¥é…ç½®

```dart
class MyApp extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      home: ManualRedirectChecker(),
    );
  }
}

class ManualRedirectChecker extends StatefulWidget {
  @override
  _ManualRedirectCheckerState createState() => _ManualRedirectCheckerState();
}

class _ManualRedirectCheckerState extends State<ManualRedirectChecker> {
  Widget? _currentWidget;
  bool _isLoading = true;

  @override
  void initState() {
    super.initState();
    _checkConfig();
  }

  Future<void> _checkConfig() async {
    try {
      // ç­‰å¾…æœ€å¤š5ç§’
      await Future.delayed(Duration(seconds: 1));
      
      final shouldRedirect = EasyRemoteConfig.instance.shouldRedirect;
      final redirectUrl = EasyRemoteConfig.instance.redirectUrl;
      
      print('ğŸ”§ æ‰‹åŠ¨æ£€æŸ¥: shouldRedirect=$shouldRedirect, url=$redirectUrl');
      
      if (shouldRedirect && redirectUrl.isNotEmpty) {
        setState(() {
          _currentWidget = WebViewPage(url: redirectUrl);
          _isLoading = false;
        });
      } else {
        setState(() {
          _currentWidget = HomePage();
          _isLoading = false;
        });
      }
    } catch (e) {
      print('ğŸ”§ æ‰‹åŠ¨æ£€æŸ¥å¤±è´¥: $e');
      setState(() {
        _currentWidget = HomePage();
        _isLoading = false;
      });
    }
  }

  @override
  Widget build(BuildContext context) {
    if (_isLoading) {
      return LoadingPage();
    }
    return _currentWidget ?? HomePage();
  }
}
```

### æ–¹æ¡ˆ3ï¼šå®Œå…¨è·³è¿‡è‡ªåŠ¨é‡å®šå‘

```dart
class MyApp extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      home: HomePage(), // ç›´æ¥ä½¿ç”¨ä¸»é¡µé¢ï¼Œæ‰‹åŠ¨æ§åˆ¶é‡å®šå‘
    );
  }
}

// åœ¨éœ€è¦çš„åœ°æ–¹æ‰‹åŠ¨æ£€æŸ¥é‡å®šå‘
void checkRedirectManually(BuildContext context) {
  try {
    if (EasyRemoteConfig.instance.shouldRedirect) {
      final url = EasyRemoteConfig.instance.redirectUrl;
      Navigator.push(context, MaterialPageRoute(
        builder: (context) => WebViewPage(url: url),
      ));
    }
  } catch (e) {
    print('æ‰‹åŠ¨é‡å®šå‘æ£€æŸ¥å¤±è´¥: $e');
  }
}
```

## ğŸ”„ æµ‹è¯•ä¿®å¤æ•ˆæœ

è¿è¡Œä»¥ä¸Šä»»ä¸€æ–¹æ¡ˆåï¼š

1. **åº”è¯¥åœ¨3-5ç§’å†…çœ‹åˆ°ç»“æœ**ï¼ˆä¸å†æ— é™åŠ è½½ï¼‰
2. **æ§åˆ¶å°æœ‰è¯¦ç»†çš„è°ƒè¯•æ—¥å¿—**
3. **å¯ä»¥æ­£å¸¸åˆ‡æ¢é‡å®šå‘çŠ¶æ€**

å¦‚æœä»æœ‰é—®é¢˜ï¼Œè¯·æŸ¥çœ‹æ§åˆ¶å°æ—¥å¿—å¹¶åé¦ˆå…·ä½“é”™è¯¯ä¿¡æ¯ã€‚

---

**ğŸ“ æ³¨æ„**: è¿™äº›æ˜¯ä¸´æ—¶è§£å†³æ–¹æ¡ˆï¼Œæˆ‘ä»¬ä¼šåœ¨ä¸‹ä¸ªç‰ˆæœ¬ä¸­å½»åº•ä¿®å¤è¿™ä¸ªé—®é¢˜ã€‚

---

## ğŸ§ª é»˜è®¤é…ç½®æµ‹è¯•æŒ‡å—

### æµ‹è¯•åœºæ™¯ï¼šç½‘ç»œå¤±è´¥æ—¶ä½¿ç”¨é»˜è®¤é…ç½®

å½“æ— æ³•è·å–è¿œç¨‹é…ç½®æ—¶ï¼ˆç½‘ç»œé—®é¢˜ã€Tokené”™è¯¯ã€Gistä¸å­˜åœ¨ç­‰ï¼‰ï¼Œåº”ç”¨åº”è¯¥ä½¿ç”¨é»˜è®¤é…ç½®æ­£å¸¸è¿è¡Œã€‚

#### æµ‹è¯•ä»£ç 

```dart
import 'package:flutter/material.dart';
import 'package:flutter_remote_config/flutter_remote_config.dart';

void main() async {
  WidgetsFlutterBinding.ensureInitialized();
  
  // æ•…æ„ä½¿ç”¨é”™è¯¯çš„é…ç½®æ¥æµ‹è¯•é»˜è®¤é…ç½®é€»è¾‘
  await EasyRemoteConfig.init(
    gistId: 'invalid-gist-id',           // æ•…æ„ä½¿ç”¨æ— æ•ˆçš„ Gist ID
    githubToken: 'invalid-token',        // æ•…æ„ä½¿ç”¨æ— æ•ˆçš„ Token
    debugMode: true,
    defaults: {
      'version': '1',
      'isRedirectEnabled': false,        // é»˜è®¤ä¸é‡å®šå‘
      'redirectUrl': '',
      'customFlag': true,
      'timeout': 30,
      'appName': 'æµ‹è¯•åº”ç”¨',
      'welcomeMessage': 'æ¬¢è¿ä½¿ç”¨é»˜è®¤é…ç½®ï¼',
    },
  );
  
  runApp(MyApp());
}

class MyApp extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      home: EasyRedirectWidgets.simpleRedirect(
        homeWidget: DefaultConfigTestPage(),
        loadingWidget: LoadingPage(),
      ),
    );
  }
}

class DefaultConfigTestPage extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        title: Text('é»˜è®¤é…ç½®æµ‹è¯•'),
        backgroundColor: Colors.green,
      ),
      body: SingleChildScrollView(
        padding: EdgeInsets.all(16),
        child: Column(
          crossAxisAlignment: CrossAxisAlignment.start,
          children: [
            Card(
              child: Padding(
                padding: EdgeInsets.all(16),
                child: Column(
                  crossAxisAlignment: CrossAxisAlignment.start,
                  children: [
                    Text(
                      'ğŸ¯ é»˜è®¤é…ç½®æµ‹è¯•ç»“æœ',
                      style: TextStyle(fontSize: 18, fontWeight: FontWeight.bold),
                    ),
                    SizedBox(height: 16),
                    _buildConfigRow('ç‰ˆæœ¬', EasyRemoteConfig.instance.configVersion),
                    _buildConfigRow('é‡å®šå‘å¯ç”¨', '${EasyRemoteConfig.instance.isRedirectEnabled}'),
                    _buildConfigRow('é‡å®šå‘URL', EasyRemoteConfig.instance.redirectUrl.isEmpty ? 'æœªè®¾ç½®' : EasyRemoteConfig.instance.redirectUrl),
                    _buildConfigRow('åº”è¯¥é‡å®šå‘', '${EasyRemoteConfig.instance.shouldRedirect}'),
                    _buildConfigRow('è‡ªå®šä¹‰æ ‡å¿—', '${EasyRemoteConfig.instance.getBool('customFlag', false)}'),
                    _buildConfigRow('è¶…æ—¶è®¾ç½®', '${EasyRemoteConfig.instance.getInt('timeout', 0)}ç§’'),
                    _buildConfigRow('åº”ç”¨åç§°', EasyRemoteConfig.instance.getString('appName', 'æœªè®¾ç½®')),
                    _buildConfigRow('æ¬¢è¿æ¶ˆæ¯', EasyRemoteConfig.instance.getString('welcomeMessage', 'æœªè®¾ç½®')),
                  ],
                ),
              ),
            ),
            SizedBox(height: 16),
            Card(
              child: Padding(
                padding: EdgeInsets.all(16),
                child: Column(
                  crossAxisAlignment: CrossAxisAlignment.start,
                  children: [
                    Text(
                      'ğŸ“‹ å®Œæ•´é…ç½®æ•°æ®',
                      style: TextStyle(fontSize: 16, fontWeight: FontWeight.bold),
                    ),
                    SizedBox(height: 8),
                    Container(
                      padding: EdgeInsets.all(12),
                      decoration: BoxDecoration(
                        color: Colors.grey[100],
                        borderRadius: BorderRadius.circular(8),
                      ),
                      child: Text(
                        EasyRemoteConfig.instance.getAllConfig().toString(),
                        style: TextStyle(fontFamily: 'monospace', fontSize: 12),
                      ),
                    ),
                  ],
                ),
              ),
            ),
            SizedBox(height: 16),
            Card(
              child: Padding(
                padding: EdgeInsets.all(16),
                child: Column(
                  crossAxisAlignment: CrossAxisAlignment.start,
                  children: [
                    Text(
                      'ğŸ”§ æµ‹è¯•æ“ä½œ',
                      style: TextStyle(fontSize: 16, fontWeight: FontWeight.bold),
                    ),
                    SizedBox(height: 12),
                    ElevatedButton(
                      onPressed: () {
                        try {
                          final hasCustomFlag = EasyRemoteConfig.instance.hasKey('customFlag');
                          final customFlagValue = EasyRemoteConfig.instance.getBool('customFlag');
                          ScaffoldMessenger.of(context).showSnackBar(
                            SnackBar(
                              content: Text('è‡ªå®šä¹‰æ ‡å¿—: å­˜åœ¨=$hasCustomFlag, å€¼=$customFlagValue'),
                              backgroundColor: hasCustomFlag ? Colors.green : Colors.red,
                            ),
                          );
                        } catch (e) {
                          ScaffoldMessenger.of(context).showSnackBar(
                            SnackBar(content: Text('æµ‹è¯•å¤±è´¥: $e'), backgroundColor: Colors.red),
                          );
                        }
                      },
                      child: Text('æµ‹è¯•è‡ªå®šä¹‰é…ç½®'),
                    ),
                    SizedBox(height: 8),
                    ElevatedButton(
                      onPressed: () async {
                        try {
                          await EasyRemoteConfig.instance.refresh();
                          ScaffoldMessenger.of(context).showSnackBar(
                            SnackBar(content: Text('åˆ·æ–°å®Œæˆï¼ˆåº”è¯¥ä»ä½¿ç”¨é»˜è®¤é…ç½®ï¼‰')),
                          );
                        } catch (e) {
                          ScaffoldMessenger.of(context).showSnackBar(
                            SnackBar(content: Text('åˆ·æ–°å¤±è´¥: $e'), backgroundColor: Colors.red),
                          );
                        }
                      },
                      child: Text('æµ‹è¯•é…ç½®åˆ·æ–°'),
                    ),
                  ],
                ),
              ),
            ),
          ],
        ),
      ),
    );
  }

  Widget _buildConfigRow(String label, String value) {
    return Padding(
      padding: EdgeInsets.symmetric(vertical: 4),
      child: Row(
        crossAxisAlignment: CrossAxisAlignment.start,
        children: [
          SizedBox(
            width: 100,
            child: Text('$label:', style: TextStyle(fontWeight: FontWeight.w500)),
          ),
          Expanded(
            child: Text(value, style: TextStyle(color: Colors.grey[700])),
          ),
        ],
      ),
    );
  }
}

class LoadingPage extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return Scaffold(
      body: Center(
        child: Column(
          mainAxisAlignment: MainAxisAlignment.center,
          children: [
            CircularProgressIndicator(),
            SizedBox(height: 16),
            Text('æ­£åœ¨åŠ è½½é…ç½®...'),
          ],
        ),
      ),
    );
  }
}
```

#### æœŸæœ›çš„æµ‹è¯•ç»“æœ

**âœ… æˆåŠŸçš„æƒ…å†µï¼š**
- åº”ç”¨èƒ½æ­£å¸¸å¯åŠ¨ï¼Œä¸ä¼šå¡æ­»
- æ˜¾ç¤º "é»˜è®¤é…ç½®æµ‹è¯•" é¡µé¢ï¼ˆä¸ä¼šè·³è½¬åˆ° WebViewï¼‰
- é…ç½®å€¼æ˜¾ç¤ºä¸ºè®¾ç½®çš„é»˜è®¤å€¼ï¼š
  - ç‰ˆæœ¬: "1"
  - é‡å®šå‘å¯ç”¨: false
  - é‡å®šå‘URL: æœªè®¾ç½®
  - åº”è¯¥é‡å®šå‘: false
  - è‡ªå®šä¹‰æ ‡å¿—: true
  - è¶…æ—¶è®¾ç½®: 30ç§’
  - åº”ç”¨åç§°: "æµ‹è¯•åº”ç”¨"
  - æ¬¢è¿æ¶ˆæ¯: "æ¬¢è¿ä½¿ç”¨é»˜è®¤é…ç½®ï¼"

**ğŸ“ æ§åˆ¶å°è¾“å‡ºåº”è¯¥åŒ…å«ï¼š**
```
âŒ EasyRemoteConfig V2 åˆå§‹åŒ–å¤±è´¥: [å…·ä½“é”™è¯¯ä¿¡æ¯]
âš ï¸ EasyRemoteConfig: å¯ç”¨æœ¬åœ°defaultsä½œä¸ºå…œåº•é…ç½®
ğŸ”§ SimpleRedirect: å¼€å§‹è§£æwidget
ğŸ”§ SimpleRedirect: æˆåŠŸè·å–é…ç½®
ğŸ”§ SimpleRedirect: é‡å®šå‘å¯ç”¨=false, URL=
```

#### æµ‹è¯•ä¸åŒçš„é»˜è®¤é…ç½®åœºæ™¯

**åœºæ™¯1ï¼šé»˜è®¤å¯ç”¨é‡å®šå‘**
```dart
defaults: {
  'version': '1',
  'isRedirectEnabled': true,
  'redirectUrl': 'https://flutter.dev',
  // ... å…¶ä»–é…ç½®
},
```
æœŸæœ›ç»“æœï¼šåº”ç”¨åº”è¯¥è·³è½¬åˆ° Flutter å®˜ç½‘

**åœºæ™¯2ï¼šç©ºçš„é»˜è®¤é…ç½®**
```dart
defaults: {}, // å®Œå…¨ç©ºçš„é…ç½®
```
æœŸæœ›ç»“æœï¼šåº”ç”¨åº”è¯¥ä½¿ç”¨å†…ç½®çš„é»˜è®¤å€¼æ­£å¸¸è¿è¡Œ

#### éªŒè¯é»˜è®¤é…ç½®é€»è¾‘çš„æ£€æŸ¥æ¸…å•

- [ ] æ— æ•ˆ Gist ID æ—¶ä½¿ç”¨é»˜è®¤é…ç½® âœ…
- [ ] æ— æ•ˆ Token æ—¶ä½¿ç”¨é»˜è®¤é…ç½® âœ…  
- [ ] ç½‘ç»œæ–­å¼€æ—¶ä½¿ç”¨é»˜è®¤é…ç½® âœ…
- [ ] é»˜è®¤é…ç½®çš„æ‰€æœ‰å­—æ®µéƒ½èƒ½æ­£ç¡®è¯»å– âœ…
- [ ] é‡å®šå‘é€»è¾‘æ ¹æ®é»˜è®¤é…ç½®æ­£ç¡®å·¥ä½œ âœ…
- [ ] åˆ·æ–°é…ç½®å¤±è´¥æ—¶ä»èƒ½ä½¿ç”¨é»˜è®¤é…ç½® âœ…
- [ ] åº”ç”¨ä¸ä¼šå› ä¸ºé…ç½®é—®é¢˜è€Œå´©æºƒ âœ…

---

**ğŸ¯ è¿™ä¸ªæµ‹è¯•ç¡®ä¿äº†æ‚¨çš„åŒ…åœ¨ä»»ä½•ç½‘ç»œæ¡ä»¶ä¸‹éƒ½èƒ½ç¨³å®šè¿è¡Œï¼** 